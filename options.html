<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Kill Clone Tabs Settings</title>
    <style>
        body { padding: 10px; font-family: "Segoe UI", Tahoma, sans-serif; font-size: 14px; min-width: 300px; }
        h1 { font-size: 16px; margin-top: 0; }
        label { display: block; margin-bottom: 10px; cursor: pointer; }
        input[type="checkbox"] { margin-right: 8px; }
        .note { font-size: 12px; color: #666; margin-left: 24px; margin-top: -5px; display: block; margin-bottom: 15px;}
    </style>
</head>
<body>
    <h1>Duplicate Detection Settings</h1>
    
    <label>
        <input type="checkbox" id="ignoreTrailingSlash">
        Ignore trailing slashes
    </label>
    <span class="note">Treat <code>example.com</code> and <code>example.com/</code> as the same.</span>

    <label>
        <input type="checkbox" id="ignoreAnchors">
        Ignore anchors / hashes
    </label>
    <span class="note">Treat <code>example.com</code> and <code>example.com#section</code> as the same.</span>

    <label>
        <input type="checkbox" id="ignoreWWW">
        Ignore "www" subdomain
    </label>
    <span class="note">Treat <code>http://example.com</code> and <code>http://www.example.com</code> as the same.</span>

    <label>
        <input type="checkbox" id="ignoreQuery">
        Ignore URL parameters
    </label>
    <span class="note">Treat <code>example.com</code> and <code>example.com?source=email</code> as the same.</span>

    <label>
        <input type="checkbox" id="ignoreProtocol">
        Ignore protocol (HTTP/HTTPS)
    </label>
    <span class="note">Treat <code>http://example.com</code> and <code>https://example.com</code> as the same.</span>

    <hr style="border: 0; border-top: 1px solid #ccc; margin: 15px 0;">

    <h1>Duplicate Handling</h1>
    <label style="cursor: default;">
        Keep Strategy:
        <select id="keepStrategy" style="margin-left: 10px; padding: 2px;">
            <option value="oldest">Keep Oldest (First Created)</option>
            <option value="newest">Keep Newest (Last Created)</option>
            <option value="active">Keep Active (Current Tab)</option>
        </select>
    </label>
    <span class="note">Decide which tab stays open when duplicates are found.</span>

    <hr style="border: 0; border-top: 1px solid #ccc; margin: 15px 0;">

    <h1>Grouping Settings</h1>
    <label style="cursor: default;">
        Group Naming:
        <select id="groupNaming" style="margin-left: 10px; padding: 2px;">
            <option value="domain">Full Domain (e.g. Google)</option>
            <option value="initials">Smart Initials (e.g. G, Go)</option>
        </select>
    </label>
    <span class="note">Choose how native tab groups are named.</span>

    <hr style="border: 0; border-top: 1px solid #ccc; margin: 15px 0;">

    <h1>Automation</h1>
    <label>
        <input type="checkbox" id="autoKill">
        <strong>Auto-Kill Duplicates</strong>
    </label>
    <span class="note" style="color: #d9534f;">Warning: This will automatically close duplicate tabs as soon as they are detected.</span>

    <hr style="border: 0; border-top: 1px solid #ccc; margin: 15px 0;">

    <h1>Text Highlighting</h1>
    <label>
        <input type="checkbox" id="highlightEnabled">
        Enable Text Highlighting
    </label>
    
    <div style="margin-left: 24px; margin-bottom: 15px;">
        <label>
            Highlight Color:
            <input type="color" id="highlightColor" value="#ffff00" style="vertical-align: middle; margin-left: 5px;">
        </label>

        <label>
            <input type="checkbox" id="highlightMatchCase">
            Match Case
        </label>

        <label>
            <input type="checkbox" id="highlightWholeWords">
            Match Whole Words Only
        </label>

        <label>
            Minimum Text Length:
            <input type="number" id="highlightMinLength" min="1" max="20" value="2" style="width: 40px; margin-left: 5px;">
        </label>
    </div>

    <hr style="border: 0; border-top: 1px solid #ccc; margin: 15px 0;">

    <h1>Hide Evidence Settings</h1>
    
    <!-- Auth Section -->
    <div id="authSection" style="display:none; margin-bottom: 15px; background: #f9f9f9; padding: 10px; border-radius: 4px; border: 1px solid #eee;">
        <label for="pinInput" style="cursor: default; font-weight: bold;">Enter PIN to view list:</label>
        <div style="display: flex; gap: 10px; align-items: center;">
            <input type="password" id="pinInput" placeholder="****" style="padding: 5px; width: 100px;">
            <button id="btnAuth" style="padding: 5px 15px; cursor: pointer;">Unlock</button>
        </div>
        <p id="authError" style="color: red; font-size: 12px; margin: 5px 0 0 0; display: none;">Incorrect PIN</p>
        
        <div style="margin-top: 10px; text-align: right;">
            <button type="button" id="btnForgotPin" style="padding: 5px 10px; cursor: pointer; font-size: 11px; color: #d9534f; background: none; border: 1px solid #d9534f; border-radius: 3px;">Forgot PIN? (Reset)</button>
        </div>
    </div>

    <!-- Content Section -->
    <div id="contentSection">
        <label for="hideList" style="cursor: default;">Domains to hide (one per line):</label>
        <textarea id="hideList" rows="5" style="width: 100%; box-sizing: border-box; resize: vertical; margin-bottom: 10px; font-family: monospace;"></textarea>
        <span class="note" style="margin-left: 0;">Tabs matching these domains will be closed and removed from history by the "Hide Evidence" button.</span>
        
        <div style="margin-top: 15px; padding-top: 10px; border-top: 1px dashed #ccc;">
            <label for="newPin" style="cursor: default; font-weight: bold;">Protection PIN:</label>
            <div style="display: flex; gap: 10px; align-items: center;">
                <input type="password" id="newPin" placeholder="New PIN" style="padding: 5px; width: 100px;">
                <button id="btnSavePin" style="padding: 5px 15px; cursor: pointer;">Set/Update PIN</button>
                <span class="note" style="margin: 0;">Leave empty to remove protection.</span>
            </div>
            <p id="pinStatus" style="color: green; font-size: 12px; margin: 5px 0 0 0; display: none;"></p>
        </div>
    </div>

    <script src="options.js"></script>
</body>
</html>
